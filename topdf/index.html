<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>MONEFY</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <link rel="stylesheet" href="style.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.2/jspdf.min.js"></script>
</head>

<body>
  <nav class="navbar navbar-expand-sm bg-success navbar-dark">
    <a class="navbar-brand" href="./admin-dash.html">MONEFY</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
      aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item">
          <a class="nav-link active" aria-current="page"
            href="C:\Users\Rithvik\OneDrive\Desktop\Capstone-project---front-end\monefydashboard/index.html">Dashboard</a>
        </li>
        <li class="nav-item ms-10">
          <a class="nav-link" href="../Finance/index.html" id="events">Income and expenses</a>
        </li>
        <li class="nav-item ms-10">
          <a class="nav-link"
            href="file:///C:/Users/Rithvik/OneDrive/Desktop/Capstone-project---front-end/Savings/index.html">Savings</a>
        </li>
        <li class="nav-item ms-10">
          <a class="nav-link"
            href="C:\Users\Rithvik\OneDrive\Desktop\Capstone-project---front-end\delete/delete.html">View Expenses</a>
        </li>
        </li>
        <li class="nav-item ms-10">
          <a class="nav-link" href="../AboutUs/index.html">About Us</a>
        </li>
        <li class="nav-item ms-10">
          <a class="nav-link" href="../Login/index.html">Logout</a>
        </li>
      </ul>
    </div>
    </div>
  </nav>


  <div class="container">
    <div class="row">
      <div class="col-sm-14">
        <section class="grid">
          <h1>Recent Transcations</h1>
          <button id="exportButton" class="btn btn-info btn-sm exampleModalLabel">
            <a href="javascript:demoFromHTML()" class="button">Download Pdf</a></button>
            <div id="content">
          <div class="row mt-3">
            <div class="table table-bordered table-container" id="tableInvoice">
              <thead class="thead-dark">
                <table id="finances">
                  <thead>
                  </thead>
                  <tbody>
                    <tr class="table-dark bg-dark">
                      <th class="text-white">S No</th>
                      <th class="text-white">Type</th>
                      <th class="text-white">Tag</th>
                      <th class="text-white">Invoice Date</th>
                      <th class="text-white">Amount (₹)</th>
                    </tr>
                  </tbody>
                </table>
            </div>
        </section>
      </div>
    </div>
  </div>

  <div class="container">
    <div class="row">
      <div class="col-sm-14">
        <section class="grid">
          <h1>Finances</h1>

          <div class="row mt-3">
            <table class="table table-bordered table-container" id="InvestmentTable">
              <thead>
                <tr>
                  <th> Sr no.</th>
                  <th>Finance Type</th>
                  <th>Tag</th>
                  <th>Date</th>
                  <th>Amount(₹)</th>
                </tr>
              </thead>
              <tbody>
              </tbody>
            </table>
          </div>
      </div>

    <div class="col-sm-6">
        <section class="grid">
          <h2>Income vs Expenses</h2>
          <div class="chart-container">
            <canvas id="donut-chart"></canvas>
          </div>
        </section>
      </div>

      <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
	<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="script.js"></script>

      <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.4.0/jspdf.umd.min.js"></script>
      <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

      <script>
        function demoFromHTML() {
            var pdf = new jsPDF('p', 'pt', 'a3');
            // source can be HTML-formatted string, or a reference
            // to an actual DOM element from which the text will be scraped.
            source = document.getElementById('content');
    
      //       var table = source.querySelector('#tableInvoice');
      //       var actionColumn = table.querySelector('th:nth-child(6), td:nth-child(6)');
      //       var actionColumnIndex = Array.prototype.indexOf.call(table.rows[0].cells, actionColumn);
      //       for (var i = 0; i < table.rows.length; i++) {
      //       table.rows[i].deleteCell(actionColumnIndex);
      // }
      //       location.reload();
    
            // we support special element handlers. Register them with jQuery-style 
            // ID selector for either ID or node name. ("#iAmID", "div", "span" etc.)
            // There is no support for any other type of selectors 
            // (class or compound) at this time.
            specialElementHandlers = {
                // element with id of "bypass" - jQuery-style selector
                '#bypassme': function (element, renderer) {
                    // true = "handled elsewhere, bypass text extraction"
                    return true;
                }
            };
            margins = {
                top: 100,
                bottom: 80,
                left: 70,
                width: 622
            };
            // all coords and widths are in jsPDF instance's declared units
            // 'inches' in this case
            pdf.fromHTML(
                source, // HTML string or DOM elem ref.
                margins.left, // x coord
                margins.top, { // y coord
                    'width': margins.width, // max width of content on PDF
                    'elementHandlers': specialElementHandlers,
                    'font_size':10,
                },
    
                function (dispose) {
                    // dispose: object with X, Y of the last line add to the PDF 
                    //          this allows the insertion of new lines after html
                    pdf.save('Test.pdf');
                }, margins
            );
        }
        </script>
</body>
</html>